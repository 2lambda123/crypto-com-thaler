name: Signer
version: "0.0.1"
author: Crypto.com <chain@crypto.com>
about: Basic tool for secret management (using enclaves), possibly TX generation and signing.
args:
    - base-path:
        short: p
        long: base-path
        help: Set path for secret storage
        takes_value: true

subcommands:
    - keypair:
        about: Keypair related commands
        subcommands:
        - list:
            about: List base keypairs
        - new:
            about: Create a new keypair
            args:
            - name:
                short: n
                long: name
                help: Name for a new keypair
                takes_value: true
        - display:
            about: Display a keypair
            args:
            - name:
                short: n
                long: name
                help: Name for a new keypair
                takes_value: true
            - type:
                short: t
                long: type
                help: Display type [view|spend|both] (view/spend will be in Eth-address format, both will be joined + blake2s)
                takes_value: true
    - tx:
        about: Tx related commands
        subcommands:
        - gen_tx:
            about: Generate a signed TX
            args:
            - name:
                short: n
                long: name
                help: Name for a new keypair
                takes_value: true
            - chain_id:
                short: c
                long: chain_hex_id
                help: Chain ID (2 hex digits)
                takes_value: true
            - inputs:
                short: i
                long: inputs
                help: takes triples -- <TXID> <INDEX> [ecdsa|schnorr]
                multiple: true
                min_values: 3
            - outputs:
                short: o
                long: outputs
                help: takes triples -- [redeem|tree] <ADDRESS_HEX_BYTES> <AMOUNT>
                multiple: true
                min_values: 3
            - extra_view:
                short: e
                long: extra_view
                help: Extra view key (compressed PK / 33 hex digits)
                takes_value: true